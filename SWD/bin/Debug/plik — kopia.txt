:- dynamic(ma/1).
:- dynamic(cel_leczenia/1).
%wyznacza dostepne cele leczenia
moze_leczyc(bol_glowy) :- ma(bol_glowy).
moze_leczyc(bol_zeba) :- ma(bol_zeba).
moze_leczyc(goraczka) :- ma(goraczka).
moze_leczyc(bole_miesni) :- ma(bole_miesni).
moze_leczyc(biegunka) :- ma(biegunka).

%cel leczenia bedzie dostepny do wyboru na podstawie wartosci moze_leczyc()
%cel_leczenia(bol_glowy).
%cel_leczenia(goraczka).
%cel_leczenia(bol_zeba).
%cel_leczenia(bole_miesni).
%cel_leczenia(biegunka).

przepisz(lek_z_paracetamolem) :-
(cel_leczenia(bol_glowy);cel_leczenia(bol_zeba);cel_leczenia(goraczka)), 
not(ma(uczulenie_na_paracetamol)).

przepisz(lek_z_loperamidem) :- 
(cel_leczenia(bol_glowy);cel_leczenia(bol_zeba);cel_leczenia(goraczka);cel_leczenia(bole_miesni)), 
not(ma(uczulenie_na_loperamid)).

przepisz(pij_duzo_plynow) :- 
cel_leczenia(biegunka).

co_wziac(L) :- findall(X, przepisz(X), L).
co_leczyc(G) :- findall(X, moze_leczyc(X), G).